{% extends "tasks/base.html" %}
{% block content %}
{% load static %}
  <div class="mt-4">
    <h2> Your tasks </h2>
  </div>
 
  <div class="row mb-4">
    {% for task in object_list %}
      <div class="card shadow-sm mt-4 ml-4 hoverable" style="width: 18rem;">
        <img src="{% get_media_prefix %}/taskicons/task_default.png" class="card-img-top" alt="">
        <div class="card-body">
          <h5 class="card-title"> {{ task.displayname }} </h5>
          <h6 class="card-subtitle mb-2 text-muted">Code: {{ task.name }}</h6>
          <p class="card-text"> {{ task.descr }} </p>
          <a href="{% url 'run-task' taskurl=task.task_url %}" class="btn btn-outline-primary btn-lg btn-block">
          Run Task
          </a>
        </div>
        <div class="d-flex justify-content-between border-top">
          <a href="{% url 'update-task' pk=task.name %}" class="btn btn-outline-secondary btn-sm ml-2 mb-2 mt-2">
          Modify
          </a>
          <a href="{% url 'download-results' taskurl=task.task_url %}" class="btn btn-outline-success btn-sm mb-2 mt-2">
          Results
          </a>
          <a href="{% url 'delete-task' pk=task.name %}" class="btn btn-outline-danger btn-sm mr-2 mb-2 mt-2">
          Delete
          </a>
        </div>
      </div>
    {% empty %}
      <p class="ml-4"> No tasks found.
      </p>
    {% endfor %}
  </div>
  <a href="{% url 'create-task' %}" class="ml-2"> Create Task? </a>

{% endblock content %}